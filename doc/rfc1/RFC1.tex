\documentclass[12pt]{article}

\setlength{\parindent}{0pt}
\setlength{\parskip}{2mm}

\usepackage{geometry}
 \geometry{
 letterpaper, left=20mm, right=20mm,  top=20mm,
 }
\usepackage{graphicx}
\graphicspath{ {graphics/} }
\usepackage{amssymb}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\title{RFC 1: Collisions in Delay-Based ID Encoding Protocol}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\author{
	Margot Maxwell \and
	Lizzy Schoen \and
	Noah Strong \and
	Chloe Yugawa
}

\begin{document}

\maketitle

\tableofcontents{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Introduction}

The protocol proposed for this project encodes an unique identification number
in the transmitted signal by the delay between two consecutive pings.
While this method is easy to implement in hardware, and works well in the case
of only a signal transmitter, the addition of multiple transmitters within range
of a receiver brings about the potential for collisions between different
signals.
In some cases, the collisions may be undetectable, leading to incorrect
reporting of nearby crab IDs.
Completely solving this problem will require a change to the underlying
protocol.
However, the likelihood of such collisions may be low enough that we move
forward with this known flaw in the protocol.

\section{Original Protocol}

In the current iteration of our detection and identification protocol, every
transmitter will transmit at the exact same frequency, likely somewhere around
40kHz. This is ideal from a hardware perspective, as the piezoelectric
equipment can be tuned to work on a single frequency with a high degree of
accuracy.

Every transmitter will periodically send out two quick "pings," each separated
by some delay $d$. The value of $d$ will encode the ID of the transmitter.
For example, $d=42$ms may correspond to ID 30, and a delay of $50.5$ms may
correspond to an ID of 38.
Note that these numbers are only examples.
Because the receiving hardware can easily detect the two pings, it can measure
the value of $d$ by calculating the time difference between the rising edges
of the consecutive signals. See Figure 1 for an illustration.

\begin{figure}[h]
\centering
\includegraphics[scale=0.7]{singleTx}

\caption{A single transmitter ($Tx1$), the input received by the receiver
($Sum$), and the calculated delay $d$ based on the time measured between
the rising edges of the two pings from $Tx1$.}
\end{figure}

Each transmission of an ID by a transmitter (that is, the sequence of a
ping, a delay, and another ping) will happen regularly around some average
interval.
Because there is no synchronization between transmitters, the interval
between each broadcast will vary randomly within a given range.
For example, the delay may be 30 seconds, $\pm$5 seconds, with the random
variation recalculated after every broadcast.

The motivation behind the randomly-varying schedule is to decrease the
likelihood of simultaneous transmissions by two different receivers.
However, the random interval only functions to reduce the likelihood of
two \emph{consecutive} overlapping transmissions.
Without an inter-receiver collision-detection solution, there will always
be the possibility that two transmissions overlap.

\section{Possibility for Collisions}

As discussed above,
when two transmitters are present in the receiving range, and there is no
synchronization between the two (i.e. they may transmit their IDs at any
time, regardless of when the other transmits), it is possible for the two
transmissions to be broadcast at similar times, thereby overlapping.
The signals may overlap in countless different ways depending on when
both transmissions start and where the transmitters are in relation to
each other and to the receiver.

\subsection{Example Scenarios}

\begin{figure}[h]
	\centering
		\includegraphics[scale=0.7]{collision1}
		
		\caption{An example collision. The computed delay $d$ is
		measured as the time difference between the rising edge of
		$Tx1$'s first ping and $Tx2$'s second ping.}
\end{figure}


\section{Statistical Probability of Collisions}


\end{document}

